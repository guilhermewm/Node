<ion-view view-title="Contatos" >

  <ion-content class="home">
  <!--ion-content class="home" ng-init="contactsOnLoad()"-->
   <ion-refresher pulling-text="Puxe para atualizar..." on-refresh="doRefresh()">

   </ion-refresher>
   <!--div class="button-div">

     <button class="button" ng-click="contactsOnLoad()">Listar contatos do cel</button>
   </div-->
        <div class="padding" ng-if="cont" >
          <ion-list ng-repeat="contact in cont | orderBy:['-registrationFlag','name']" >

            <ion-card ng-click="debitorRegister(contact)">
              <ion-item>
                <ion-avatar item-left class="avatar-ion">
                  <img class="avatar" src="img/no-avatar.png">
                </ion-avatar>
                <h2 ng-if="contact.name == 'Sem Nome' || contact.name == undefined" class="title-name">Desconhecido</h2>
                <h2 ng-if="contact.name != 'Unknw' || contact.name != undefined" class="title-name">{{contact.name}}</h2>
                <i class="ion-iphone app-green" ng-if="contact.registrationFlag"></i>
                <i class="ion-iphone app-red"  ng-if="!contact.registrationFlag"></i>
              </ion-item>
              <ion-item>
                <h3>Números de telefones</h3>
                <div ng-if="!contact.registrationFlag" ng-repeat="number in contact.phone">
                  <p>{{ number.value }}</p>
                </div>
                <div ng-if="contact.registrationFlag">
                  <p>{{ contact.phone.value }}</p>
                </div>
                <ion-icon ios="ios-call" md="md-call" item-right></ion-icon>
              </ion-item>
            </ion-card>
          </ion-list>
        </div>
        <ion-item style="background: none; border: none">
          <div ng-hide="cont.length > 0">
            <p> Não há contatos no momento </p>
          </div>
        </ion-item>
  </ion-content>
</ion-view>
